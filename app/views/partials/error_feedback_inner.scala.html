@(problemReportForm : Form[controllers.ProblemReport], actionUrl: String, csrfToken: Option[String])(implicit request : Request[_], lang : Lang, messages : Messages)
@import uk.gov.hmrc.play.views.html._
@import uk.gov.hmrc.play.views.html.helpers._
@import views.helpers.ServiceParameter.extractServiceParameter
@import util.GetHelpWithThisPageFeature_A

<h2>@Messages("common.feedback.title")</h2>
<p>@Messages("common.feedback.information.warning")</p>

<form action="@actionUrl" method="POST" id="error-feedback-form" class="form--feedback" novalidate>
    @if(csrfToken.isDefined) {
    <input type="hidden" name="csrfToken" value="@{csrfToken.get}"/>
    }

    <input type="hidden" name="service" id="feedbackService" value="@extractServiceParameter(problemReportForm, None)"/>

    <fieldset>
        <legend class="visuallyhidden">@Messages("common.feedback.title")</legend>

        @input(
        problemReportForm("report-name"),
        '_label -> Messages("form.name"),
        '_divClass -> "form-field",
        '_inputClass -> "input--cleared form-control",
        '_maxlength -> "70"
        )

        @input(
        problemReportForm("report-email"),
        '_label -> Messages("problem_report.email"),
        '_divClass -> "form-field",
        '_inputClass -> "input--cleared form-control",
        '_maxlength -> "255",
        '_type -> "email"
        )

        @textArea(
        problemReportForm("report-action"),
        '_label -> Messages("problem_report.action"),
        '_divClass -> "form-field",
        '_inputClass -> "input--cleared form-control",
        '_maxlength -> "1000"
        )

        @textArea(
        problemReportForm("report-error"),
        '_label -> Messages("problem_report.error"),
        '_divClass -> "form-field",
        '_inputClass -> "input--cleared form-control",
        '_maxlength -> "1000"
        )

        <input type="hidden" name="isJavascript" id="isJavascript" value="@problemReportForm.data.get("isJavascript")">
        <input type="hidden" name="referer" id="referer" value="@problemReportForm.data.get("referer")">
        <input type="hidden" name="abFeatures" value="@{GetHelpWithThisPageFeature_A.name}"/>
        <div class="form-field">
            <button id="report-submit" class="button" type="submit" data-journey-click="page:Click:Get help with this page Submit">@Messages("form.send")</button>
        </div>
    </fieldset>
</form>

